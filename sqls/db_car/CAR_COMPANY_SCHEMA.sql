CREATE TABLE `COMPANY` (
	`COMPANY_PK`	VARCHAR(20)	NOT NULL,
	`COMPANY_NAME`	VARCHAR(20)	NULL
);

CREATE TABLE `CAR` (
	`CAR_PK`	VARCHAR(20)	NOT NULL,
	`COMPANY_FK`	VARCHAR(20)	NOT NULL,
	`CAR_NAME`	VARCHAR(20)	NULL,
	`CAR_YEAR`	INT	NULL
);

CREATE TABLE `CAR_OPTION` (
	`OPTION_PK`	VARCHAR(20)	NOT NULL,
	`CAR_FK`	VARCHAR(20)	NOT NULL,
	`COMPANY_FK`	VARCHAR(20)	NOT NULL,
	`OPTION_NAME`	VARCHAR(20)	NULL
);

ALTER TABLE `COMPANY` ADD CONSTRAINT `PK_COMPANY` PRIMARY KEY (
	`COMPANY_PK`
);

ALTER TABLE `CAR` ADD CONSTRAINT `PK_CAR` PRIMARY KEY (
	`CAR_PK`,
	`COMPANY_FK`
);

ALTER TABLE `CAR_OPTION` ADD CONSTRAINT `PK_CAR_OPTION` PRIMARY KEY (
	`OPTION_PK`,
	`CAR_FK`,
	`COMPANY_FK`
);

ALTER TABLE `CAR` ADD CONSTRAINT `FK_COMPANY_TO_CAR_1` FOREIGN KEY (
	`COMPANY_FK`
)
REFERENCES `COMPANY` (
	`COMPANY_PK`
);

ALTER TABLE `CAR_OPTION` ADD CONSTRAINT `FK_CAR_TO_CAR_OPTION_1` FOREIGN KEY (
	`CAR_FK`
)
REFERENCES `CAR` (
	`CAR_PK`
);

ALTER TABLE `CAR_OPTION` ADD CONSTRAINT `FK_CAR_TO_CAR_OPTION_2` FOREIGN KEY (
	`COMPANY_FK`
)
REFERENCES `CAR` (
	`COMPANY_FK`
);